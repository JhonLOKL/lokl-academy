"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import { urls } from "@/config/urls";

// Iconos SVG personalizados
const ChartIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg viewBox="0 0 80 73" fill="currentColor" xmlns="http://www.w3.org/2000/svg" {...props}>
    <path d="M1.2177 53.9725C1.21769 38.7056 1.21241 23.6326 1.22284 8.55963C1.22459 6.03084 2.31769 4.31321 4.25932 3.63845C6.16087 2.97763 8.63605 3.48054 9.67294 5.10126C10.3198 6.11241 10.6963 7.48408 10.7012 8.69595C10.7663 24.9331 10.7439 41.1706 10.7446 57.408C10.7448 61.1363 11.2398 61.6265 14.9947 61.6266C33.86 61.6271 52.7254 61.6257 71.5908 61.6301C72.4912 61.6303 73.3959 61.6329 74.2914 61.7143C76.7612 61.939 78.4509 63.8933 78.4281 66.4437C78.4054 68.994 76.7051 70.872 74.2035 71.0921C73.6272 71.1428 73.0467 71.1683 72.4681 71.1684C53.0877 71.1717 33.7072 71.19 14.3268 71.1594C7.77961 71.149 3.49688 68.2699 1.86993 62.821C1.46929 61.4793 1.34001 60.0361 1.24077 58.6285C1.13638 57.148 1.21758 55.6544 1.2177 53.9725Z" />
    <path d="M73.673 33.7821C73.6391 38.3694 73.7331 42.7685 73.5295 47.1537C73.3764 50.4511 71.3249 51.992 68.0959 51.6629C65.8788 51.437 64.2425 49.8969 64.1752 47.6327C64.0349 42.9197 63.9934 38.2023 63.9962 33.4867C64.0004 26.5732 64.0084 19.6583 64.1603 12.7471C64.2215 9.96043 66.1014 8.25643 68.6714 8.19326C71.2779 8.1292 73.3162 9.72721 73.4795 12.4646C73.7177 16.4574 73.6386 20.47 73.6685 24.4744C73.6912 27.5121 73.673 30.55 73.673 33.7821Z" />
    <path d="M49.8174 24.3403C49.7321 20.13 49.4824 16.0593 49.7231 12.0182C49.8705 9.54297 52.1039 8.08331 54.5291 8.20149C56.925 8.31825 58.8278 9.80687 58.9628 12.2423C59.1699 15.9789 59.1419 19.7414 58.9718 23.4818C58.8726 25.6624 57.2188 27.1378 55.1225 27.4977C52.9348 27.8733 51.0159 26.7775 49.8174 24.3403Z" />
    <path d="M22.2555 50.6964C21.6368 49.5887 20.7476 48.5971 20.6961 47.5635C20.5166 43.9585 20.415 40.3228 20.6857 36.7293C20.964 33.0342 24.8898 31.3245 28.0494 33.2764C29.6626 34.273 30.1096 35.8541 30.1328 37.5957C30.1723 40.5674 30.1753 43.5404 30.1366 46.5121C30.078 51.0125 26.3354 53.0615 22.2555 50.6964Z" />
    <path d="M44.5842 31.3939C44.3893 35.5496 42.6382 37.4215 39.3465 37.1785C37.1046 37.013 35.2506 35.3759 35.1726 33.1247C35.0455 29.454 35.0397 25.7725 35.1658 22.1019C35.2518 19.5974 37.2611 17.9548 39.8358 17.9575C42.4248 17.9602 44.3552 19.5712 44.4813 22.119C44.6309 25.1431 44.5596 28.1782 44.5842 31.3939Z" />
  </svg>
);

const HomeIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg viewBox="0 0 80 70" fill="currentColor" xmlns="http://www.w3.org/2000/svg" {...props}>
    <path d="M79.979 34.9248C79.979 37.3853 77.8951 39.3126 75.5334 39.3126H71.0878L71.1851 61.2107C71.1851 61.5798 71.1573 61.9488 71.1156 62.3179V64.5323C71.1156 67.5532 68.6289 70 65.5586 70H63.3358C63.183 70 63.0302 70 62.8774 69.9863C62.6829 70 62.4884 70 62.2939 70L57.7788 69.9863H54.4446C51.3744 69.9863 48.8876 67.5396 48.8876 64.5187V61.238V52.4898C48.8876 50.0703 46.901 48.1156 44.4421 48.1156H35.5509C33.0919 48.1156 31.1053 50.0703 31.1053 52.4898V61.238V64.5187C31.1053 67.5396 28.6185 69.9863 25.5483 69.9863H22.2141H17.7824C17.574 69.9863 17.3656 69.9727 17.1572 69.959C16.9905 69.9727 16.8238 69.9863 16.6571 69.9863H14.4343C11.3641 69.9863 8.8773 67.5396 8.8773 64.5187V49.2091C8.8773 49.0861 8.8773 48.9494 8.89119 48.8264V39.299H4.44559C1.94495 39.299 0 37.3853 0 34.9112C0 33.6809 0.416774 32.5874 1.38925 31.6305L36.9957 1.09354C37.9682 0.136692 39.0796 0 40.052 0C41.0245 0 42.1359 0.273384 42.9694 0.956844L78.4509 31.6442C79.5622 32.6011 80.118 33.6946 79.979 34.9248Z" />
  </svg>
);

const CalendarIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg viewBox="0 0 70 80" fill="currentColor" xmlns="http://www.w3.org/2000/svg" {...props}>
    <path d="M20 0C22.7656 0 25 2.23438 25 5V10H45V5C45 2.23438 47.2344 0 50 0C52.7656 0 55 2.23438 55 5V10H62.5C66.6406 10 70 13.3594 70 17.5V25H0V17.5C0 13.3594 3.35938 10 7.5 10H15V5C15 2.23438 17.2344 0 20 0ZM0 30H70V72.5C70 76.6406 66.6406 80 62.5 80H7.5C3.35938 80 0 76.6406 0 72.5V30ZM10 42.5V47.5C10 48.875 11.125 50 12.5 50H17.5C18.875 50 20 48.875 20 47.5V42.5C20 41.125 18.875 40 17.5 40H12.5C11.125 40 10 41.125 10 42.5ZM30 42.5V47.5C30 48.875 31.125 50 32.5 50H37.5C38.875 50 40 48.875 40 47.5V42.5C40 41.125 38.875 40 37.5 40H32.5C31.125 40 30 41.125 30 42.5ZM52.5 40C51.125 40 50 41.125 50 42.5V47.5C50 48.875 51.125 50 52.5 50H57.5C58.875 50 60 48.875 60 47.5V42.5C60 41.125 58.875 40 57.5 40H52.5ZM10 62.5V67.5C10 68.875 11.125 70 12.5 70H17.5C18.875 70 20 68.875 20 67.5V62.5C20 61.125 18.875 60 17.5 60H12.5C11.125 60 10 61.125 10 62.5ZM32.5 60C31.125 60 30 61.125 30 62.5V67.5C30 68.875 31.125 70 32.5 70H37.5C38.875 70 40 68.875 40 67.5V62.5C40 61.125 38.875 60 37.5 60H32.5ZM50 62.5V67.5C50 68.875 51.125 70 52.5 70H57.5C58.875 70 60 68.875 60 67.5V62.5C60 61.125 58.875 60 57.5 60H52.5C51.125 60 50 61.125 50 62.5Z" />
  </svg>
);

const FileIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg viewBox="0 0 80 70" fill="currentColor" xmlns="http://www.w3.org/2000/svg" {...props}>
    <path d="M10 70H70C75.5156 70 80 65.5156 80 60V20C80 14.4844 75.5156 10 70 10H45C43.4219 10 41.9375 9.26562 41 8L38 4C36.1094 1.48437 33.1406 0 30 0H10C4.48438 0 0 4.48438 0 10V60C0 65.5156 4.48438 70 10 70Z" />
  </svg>
);

export function MobileBottomNav() {
  const pathname = usePathname();

  const items = [
    {
      label: "Rentas",
      href: `${urls.DASHBOARD_URL}/dashboard/income`,
      icon: ChartIcon,
    },
    {
      label: "Proyectos",
      href: `${urls.DASHBOARD_URL}/dashboard/projects`,
      icon: HomeIcon,
    },
    {
      label: "Suscripciones",
      href: `${urls.DASHBOARD_URL}/dashboard/subscriptions`,
      icon: CalendarIcon,
    },
    {
      label: "Documentos",
      href: `${urls.DASHBOARD_URL}/dashboard/documents`,
      icon: FileIcon,
    },
  ];

  return (
    <div className="fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-[#E5E5E5] px-2 py-2 sm:hidden shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
      <nav className="flex justify-around items-center">
        {items.map((item) => {
          /* const isActive = pathname === item.href || pathname?.startsWith(item.href); */

          return (
            <Link
              key={item.label}
              href={item.href}
              className={"text-black flex flex-col items-center justify-center p-2 rounded-xl min-w-[70px] transition-colors"}
            >
              <item.icon
                style={{ width: 33, height: 33 }}
                className="mb-1"
              />
              <span className="text-[10px] font-medium leading-none">
                {item.label}
              </span>
            </Link>
          );
        })}
      </nav>
    </div>
  );
}
